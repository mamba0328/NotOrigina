extends ../layout

block content
    div.container
        div.row
            div.col-6
                img(src=item.imgPath onerror="if (this.src != '/images/fallback.webp') this.src = '/images/fallback.webp'" alt="item image").item__image
            div.col-6
                div.row
                    h4.col=item.name
                    a.col.text-success(href=`/${item.url}/create-instance`) Create iteminstance
                    if(choosenIteminstance)
                        a.col.text-danger(href=`/${choosenIteminstance.url}/delete`) Delete iteminstance
                    else
                        a.col.text-danger(href=`/${item.url}/delete`) Delete item
                p=item.description
                div(class="btn-group mb-3" role="group" aria-label="Basic example")
                    each iteminstance in iteminstances
                        a(href=`/${item.url}/${iteminstance.size}` class=`btn btn-primary ${choosenIteminstance && choosenIteminstance.size === iteminstance.size && 'active'}` aria-current="page")=iteminstance.size
                if(choosenIteminstance)
                    div.row
                        h5.col-5=`${choosenIteminstance.price}$`
                        p.col-3=`In stock: ${choosenIteminstance.number_in_stock}`
                else
                    div.row
                        h5.col-5=`${item.lowestPrice ? item.lowestPrice + '$' : 'Out of stock'}`
        if(error)
            h6.text-danger(style='text-align:right')=error.msg